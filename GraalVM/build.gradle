plugins {
    id 'java'
}

archivesBaseName = rootProject.name + "-" + project.name

repositories {
    mavenCentral()
    maven { url 'https://jitpack.io' }
}

configurations {
    // configuration that holds jars to include in the jar
    extraLibs
}

sourceCompatibility = '11'
targetCompatibility = '11'

ext.graalVersion = '22.2.0'

dependencies {
    implementation project(":Base")

    // GraalVM
    implementation "org.graalvm.sdk:graal-sdk:$graalVersion"
    implementation "org.graalvm.truffle:truffle-api:$graalVersion"
    implementation "org.graalvm.truffle:truffle-dsl-processor:$graalVersion"

    compileOnly 'com.github.simplix-softworks:SimplixStorage:3.2.5'
}


jar {
    from {
        configurations.extraLibs.collect { it.isDirectory() ? it : zipTree(it) }
    }
}